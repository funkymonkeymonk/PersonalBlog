{"version":3,"sources":["webpack:///./src/components/BlogmarksTitle.tsx","webpack:///./src/pages/blogmarks.tsx"],"names":["Segment","vertical","Header","as","Icon","name","Content","Subheader","withLayout","props","data","tags","group","blogmarks","posts","edges","Blogmarks","location","pathname","Math","ceil","totalCount","Container","map","node","frontmatter","timeToRead","avatar","fields","slug","excerpt","author","children","cover","get","extra","Comment","Group","Avatar","src","fixed","srcSet","Author","style","fontWeight","id","Metadata","margin","updatedDate","Card","key","title","fluid","image","href","link","header","BlogmarksTitle","Grid","padded","justifyContent","maxWidth","pageQuery"],"mappings":"4NAGe,aACb,OACE,gBAACA,EAAA,EAAD,CAASC,UAAQ,GACf,gBAACC,EAAA,EAAD,CAAQC,GAAG,MACT,gBAACC,EAAA,EAAD,CAAMC,KAAK,aACX,gBAACH,EAAA,EAAOI,QAAR,iBAEI,gBAACJ,EAAA,EAAOK,UAAR,kE,kECmFGC,uBAvEO,SAACC,GACRA,EAAMC,KAAKC,KAAKC,MAA7B,IACMC,EAAYJ,EAAMC,KAAKI,MAAMC,MAK7BC,GAJeP,EAAMQ,SAAnBC,SACUC,KAAKC,KAAKX,EAAMC,KAAKI,MAAMO,WAAa,IAIxD,gBAACC,EAAA,EAAD,KACGT,EAAUU,KAAI,YAAsC,IAAnCC,EAAmC,EAAnCA,KACRC,EAAuDD,EAAvDC,YAAaC,EAA0CF,EAA1CE,WACfC,GADyDH,EAA9BI,OAAUC,KAAoBL,EAAZM,QACpCL,EAAYM,OAAOJ,OAAOK,SAAS,IAC5CC,EAAQC,cAAIT,EAAa,yBAA0B,IAEnDU,EACJ,gBAACC,EAAA,EAAQC,MAAT,KACE,gBAACD,EAAA,EAAD,KACE,gBAACA,EAAA,EAAQE,OAAT,CACEC,IAAKZ,EAAOa,MAAMD,IAClBE,OAAQd,EAAOa,MAAMC,SAEvB,gBAACL,EAAA,EAAQ9B,QAAT,KACE,gBAAC8B,EAAA,EAAQM,OAAT,CAAgBC,MAAO,CAAEC,WAAY,MAArC,iBACiBnB,EAAYM,OAAOc,IAEpC,gBAACT,EAAA,EAAQU,SAAT,CAAkBH,MAAO,CAAEI,OAAQ,IAChCtB,EAAYuB,YADf,MAC+BtB,EAD/B,gBAUR,OACE,gBAACuB,EAAA,EAAD,CAAMC,IAAKzB,EAAY0B,MACrBC,OAAK,EACLC,MAAOpB,EACPqB,KAAM7B,EAAY8B,KAClBC,OAAQ/B,EAAY0B,MACpBhB,MAAOA,SAOjB,OACE,gBAACb,EAAA,EAAD,KAEE,gBAACmC,EAAD,MAGA,gBAACzD,EAAA,EAAD,CAASC,UAAQ,GACf,gBAACyD,EAAA,EAAD,CAAMC,QAAM,EAAChB,MAAO,CAAEiB,eAAgB,iBACpC,uBAAKjB,MAAO,CAAEkB,SAAU,MACrB7C,SAzDb,IAyEa8C,EAAY","file":"component---src-pages-blogmarks-tsx-f7ef3e768377d66031ea.js","sourcesContent":["import * as React from \"react\";\nimport { Header, Segment, Icon } from \"semantic-ui-react\";\n\nexport default () => {\n  return (\n    <Segment vertical>\n      <Header as=\"h2\">\n        <Icon name=\"bookmark\" />\n        <Header.Content>\n          Blogmarks\n            <Header.Subheader>\n            Interesting links and possibly interesting commentary\n            </Header.Subheader>\n        </Header.Content>\n      </Header>\n    </Segment>\n  );\n};\n","import * as React from \"react\";\nimport { Link } from \"gatsby\";\nimport { StaticQuery, graphql } from \"gatsby\";\nimport { Header, Grid, Card, List, Container, Feed, Segment, Comment } from \"semantic-ui-react\";\nimport { MarkdownRemarkConnection, ImageSharp } from \"../graphql-types\";\nimport BlogmarksTitle from \"../components/BlogmarksTitle\";\nimport TagsCard from \"../components/TagsCard/TagsCard\";\nimport BlogPagination from \"../components/BlogPagination/BlogPagination\";\nimport { get } from \"lodash\";\nimport {withLayout, LayoutProps} from \"../components/Layout\";\nimport { MarkdownRemark } from \"../graphql-types\";\n\ninterface BlogmarksProps extends LayoutProps {\n  data: {\n    tags: MarkdownRemarkConnection;\n    posts: MarkdownRemarkConnection;\n  };\n  pageContext: {\n    tag?: string; // only set into `templates/tags-pages.tsx`\n  };\n}\n\nconst BlogmarksPage = (props: BlogmarksProps) => {\n  const tags = props.data.tags.group;\n  const blogmarks = props.data.posts.edges;\n  const { pathname } = props.location;\n  const pageCount = Math.ceil(props.data.posts.totalCount / 10);\n\n  // TODO export posts in a proper component\n  const Blogmarks = (\n    <Container>\n      {blogmarks.map(({ node }: {node: MarkdownRemark}) => {\n        const { frontmatter, timeToRead, fields: { slug }, excerpt } = node;\n        const avatar = frontmatter.author.avatar.children[0] as ImageSharp;\n        const cover = get(frontmatter, \"image.children.0.fixed\", {});\n\n        const extra = (\n          <Comment.Group>\n            <Comment>\n              <Comment.Avatar\n                src={avatar.fixed.src}\n                srcSet={avatar.fixed.srcSet}\n              />\n              <Comment.Content>\n                <Comment.Author style={{ fontWeight: 400 }}>\n                  Submitted by: {frontmatter.author.id}\n                </Comment.Author>\n                <Comment.Metadata style={{ margin: 0 }}>\n                  {frontmatter.updatedDate} - {timeToRead} min read\n                </Comment.Metadata>\n              </Comment.Content>\n            </Comment>\n          </Comment.Group>\n        );\n\n        // TODO: Implement discussions akin to reddit\n\n        return (\n          <Card key={frontmatter.title}\n            fluid\n            image={cover}\n            href={frontmatter.link}\n            header={frontmatter.title}\n            extra={extra}\n          />\n        );\n      })}\n    </Container>\n  );\n\n  return (\n    <Container>\n      {/* Title */}\n      <BlogmarksTitle />\n\n      {/* Content */}\n      <Segment vertical>\n        <Grid padded style={{ justifyContent: \"space-around\" }}>\n          <div style={{ maxWidth: 600 }}>\n            {Blogmarks}\n            {/* <Segment vertical textAlign=\"center\">\n              <BlogPagination Link={Link} pathname={pathname} pageCount={pageCount} />\n            </Segment> */}\n          </div>\n          {/* <div>\n            <TagsCard Link={Link} tags={tags} tag={props.pageContext.tag} />\n          </div> */}\n        </Grid>\n      </Segment>\n    </Container>\n  );\n};\n\nexport default withLayout(BlogmarksPage);\n\nexport const pageQuery = graphql`\nquery PageBlogmarks {\n  # Get tags\n  tags: allMarkdownRemark {\n    group(field: frontmatter___tags) {\n      fieldValue\n      totalCount\n    }\n  }\n\n  # Get posts\n  posts: allMarkdownRemark(\n    sort: { order: DESC, fields: [frontmatter___updatedDate] },\n    filter: {\n      fileAbsolutePath: { regex: \"/blogmarks/\" }\n    },\n    limit: 10\n  ) {\n    totalCount\n    edges {\n      node {\n        excerpt\n        timeToRead\n        fields {\n          slug\n        }\n        frontmatter {\n          link\n          title\n          updatedDate(formatString: \"DD MMMM, YYYY\")\n          image {\n          \tchildren {\n              ... on ImageSharp {\n                fixed(width: 700, height: 100) {\n                  src\n                  srcSet\n                }\n              }\n            }\n          }\n          author {\n            id\n            avatar {\n              children {\n                ... on ImageSharp {\n                  fixed(width: 35, height: 35) {\n                    src\n                    srcSet\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n`;\n"],"sourceRoot":""}